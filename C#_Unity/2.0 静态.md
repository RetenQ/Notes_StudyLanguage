# 静态

## 静态成员

### 概念
被标识为```static```的字段、方法。属性、构造函数、事件，就是静态成员
```C# 
class Dog
{
    static int Num ; 
}
```

静态成员将会被类的所有实例共享，所有实例都访问同一内存位置
> 就是说，“静态”的成员，对于该类的实例，就是“公共”的

### 介绍
静态成员**直接通过类名**访问，它们仅仅和整个类有关
```Dog.Num += 1 ; ```

**生存周期**
独立于任何实例，没有实例也可以访问。
其初始化语句在任何静态成员使用之前调用

#### 静态函数成员
静态函数也独立于任何实例，没有实例也可以调用。
静态函数不能访问实例成员，仅能访问其他静态成员。
（不过实例成员反过来可以访问静态函数）
 
#### 静态构造函数
1.静态构造函数用于初始化静态字段(为静态成员而生)
2.在引用任何静态成员之前，和创建任何实例之前调用
3.与类同名，使用static，无参数，无访问修饰符
```C#
class Dog{
    static Dog(){
        num = 0 ;
    }
}
```


## 静态类

### 介绍
1.如果类只包含了静态的方法和属性，并且标识为了static ,那么它就是一个**静态类**
2.静态类不能创建实例，不能被继承
3.可以为静态类定义一个静态构造函数

> 静态类主要用于基础类库(数字库)和扩展方法

#### 如何扩展方法
1.如果有源代码，直接添加一个新方法
2.如果不能修改但也不是密闭类，可以派生子类扩展
3.如果以上条件都不能满足，可以使用静态类扩展方法

```C#
static class PetGuide{
    public static double HowToFeed(this Dog dog){
        ...
    }
}
```
通过传入原来的类到一个静态类中，达到静态类扩展方法的目的
**加上this关键字后，就代表这是一个扩展方法。在Dog类的实例中，可以直接被调用**
就像是Dog()自己原本就有的方法一样

1.扩展方法所属的类，必须是static类
2.扩展方法本身必须是static方法
3.扩展方法的第一个参数类型，必须是 **this + 类名**


